apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "hosting.fullname" . }}
  labels:
    {{- include "hosting.labels" . | nindent 4 }}
data:
  LOG_LEVEL: {{ .Values.config.logLevel | quote }}
  TEMPORAL_ADDRESS: {{ .Values.temporal.address | quote }}
  REGISTRY_URL: {{ .Values.config.registryUrl | quote }}
  ACME_EMAIL: {{ .Values.config.acmeEmail | quote }}
  ACME_DIRECTORY_URL: {{ .Values.config.acmeDirectoryUrl | quote }}
  OIDC_ISSUER_URL: {{ .Values.config.oidcIssuerUrl | default (printf "http://api.%s" .Values.config.baseDomain) | quote }}
  AUDIT_LOG_RETENTION_DAYS: {{ .Values.config.auditLogRetentionDays | quote }}
  BACKUP_RETENTION_DAYS: {{ .Values.config.backupRetentionDays | quote }}
  REGION_ID: {{ .Values.config.regionId | quote }}
  CLUSTER_ID: {{ .Values.config.clusterId | quote }}
  LOKI_URL: {{ .Values.config.lokiUrl | quote }}
  TENANT_LOKI_URL: {{ .Values.config.tenantLokiUrl | quote }}
  INTERNAL_NETWORK_CIDR: {{ .Values.config.internalNetworkCidr | quote }}
  AGENT_ENABLED: {{ .Values.config.agentEnabled | quote }}
  AGENT_MAX_CONCURRENT: {{ .Values.config.agentMaxConcurrent | quote }}
  AGENT_FOLLOWER_CONCURRENT: {{ .Values.config.agentFollowerConcurrent | quote }}
  LLM_BASE_URL: {{ .Values.config.llmBaseUrl | quote }}
  LLM_MODEL: {{ .Values.config.llmModel | quote }}
  LLM_MAX_TURNS: {{ .Values.config.llmMaxTurns | quote }}
  WIREGUARD_ENDPOINT: {{ .Values.config.wireguardEndpoint | quote }}
